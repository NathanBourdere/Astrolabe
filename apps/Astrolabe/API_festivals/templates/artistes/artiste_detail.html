{% extends 'base.html' %}
{% block title %}{{ artiste.nom }}{% endblock %}
{% block logo %}
<img src="/{{logo}}" style="width:100%; height: 8vh;" class="rounded" alt="Festival">
{% endblock %}
{% block content %}
</script>
<h4>{{artiste.nom}}</h4>
<p>{{artiste.description}}</p>
<table class="table table-bordered shadow-lg table-rounded">
    <thead>
      <tr>
        <th scope="col">Paramètre</th>
        <th scope="col">Valeur</th>
      </tr>
    </thead>
    <tbody>
      <tr class="table-light">
        <th scope="row">Site Web</th>
        {% if artiste.site_web != None %}
        <td><a href="{{ artiste.site_web }}" target="_blank">{{ artiste.site_web }}</a></td>
        {% else %}
            <td><p>Pas de site web.</p></td> 
        {% endif %}
      </tr>
      <tr class="table-light">
        <th scope="row">Youtube</th>
        <td><a href="{{ artiste.youtube }}" target="_blank">{{ artiste.youtube }}</a></td>
      </tr>
      <tr class="table-light">
        <th scope="row">Instagram</th>
        <td><a href="{{ artiste.instagram }}" target="_blank">{{ artiste.instagram }}</a></td>
      </tr>
      <tr class="table-light">
        <th scope="row">Facebook</th>
        <td><a href="{{ artiste.facebook }}" target="_blank">{{ artiste.facebook }}</a></td>
      </tr>
      <tr class="table-light">
        <th scope="row">Image de fond</th>
        <td><img src="/{{ artiste.image }}" style=" max-width: 30vw; /* Adjust the max-width as needed */
            max-height: 30vh;"></td>
      </tr>
      <tr class="table-light">
        <th scope="row">Recommendations</th>
        <td>
        {% for reco in artistes %}
        <a href="{% url 'API_festivals:artiste_detail' reco.id %}">{{ reco.nom }}</a>
        {% endfor %}
      </td>
      </tr>
    </tbody>
</table>

<a href="{% url 'API_festivals:artiste_update' artiste.id %}" class="btn btn-warning">Modifier</a>

<a href="{% url 'API_festivals:artiste_delete' artiste.id %}" id="deleteArtistButton" 
class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#myModal">Supprimer</a>


<div class="modal fade" id="myModal"  data-bs-backdrop="static" data-bs-keyboard="false">
  <div class="modal-dialog">
      <div class="modal-content">

          <!-- Modal Header -->
          <div class="modal-header">
              <h4 class="modal-title">Attention</h4>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>

          <!-- Modal Body -->
          <div class="modal-body">
              <p>L'artiste a déjà des performances enregistrées. Voulez-vous supprimer les performances associées ?</p>
          </div>

          <!-- Modal Footer -->
          <div class="modal-footer">
            {% if perf_exist %}
              <button type="button" class="btn btn-danger rounded-pill" data-bs-dismiss="modal">
                <a href="{% url 'API_festivals:artiste_delete' artiste.id %}?confirmation=True">
                Oui, supprimer les performances avec
                </a>
              </button>
              {% endif %}
              <button type="button" class="btn btn-danger rounded-pill" data-bs-dismiss="modal">
                <a href="{% url 'API_festivals:artiste_delete' artiste.id %}">Supprimer {{artiste.nom}}</a>
              </button>
              <button type="button" class="btn btn-primary rounded-pill" data-bs-dismiss="modal">Annuler</button>
          </div>
      </div>
  </div>
</div>
{% endblock %}