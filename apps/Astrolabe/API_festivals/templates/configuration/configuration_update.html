{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block title %}{{ configuration.nom }}{% endblock %}
{% block logo %}
<img src="/{{ configuration.logo }}" style="width:100%; height: 8vh;" class="rounded" alt="Festival">
{% endblock %}
{% block content %}
<div class="card bg-grey">
    <div class="card" style="text-align: center; margin-top: 2em; margin-left: 7em; margin-right: 7em;">
        <h2 class="card-title">Modifier la configuration actuelle</h2>
    </div>
    <div class="card-body">
        <form class="persoForm" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#createPartnerModal">
                Ajouter un nouveau partenaire
            </button>
            <input id="sub" type="submit" value="Enregistrer">
        </form>
    </div>
</div>
{% include '../modal/partenaires/partenaire_create.html' %}
<script>
    let submit = document.getElementById("submitBtn");
    console.log(submit);
    submit.addEventListener('click', function() {
        let modal = document.getElementById('createPartnerModal');
        closeOneModal(modal.id);
    });

    function closeOneModal(modalId) {

// get modal
const modal = document.getElementById(modalId);

// change state like in hidden modal
modal.classList.remove('show');
modal.setAttribute('aria-hidden', 'true');
modal.setAttribute('style', 'display: none');

 // get modal backdrop
 const modalBackdrops = document.getElementsByClassName('modal-backdrop');

 // remove opened modal backdrop
  document.body.removeChild(modalBackdrops[0]);
}
</script>
{% endblock %}
