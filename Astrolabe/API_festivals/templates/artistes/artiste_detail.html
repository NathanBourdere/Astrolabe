{% extends 'base.html' %}
{% block title %}{{ artiste.nom }}{% endblock %}
{% block logo %}
<img src="/{{logo}}" style="width:100%; height: 8vh;" class="rounded" alt="Festival">
{% endblock %}
{% block content %}
<h4>{{artiste.nom}}</h4>
<p>{{artiste.description}}</p>
<table class="table table-hover table-bordered shadow-lg table-rounded">
    <thead>
      <tr>
        <th scope="col">Param√®tre</th>
        <th scope="col">Valeur</th>
      </tr>
    </thead>
    <tbody>
      <tr class="table-light">
        <th scope="row">Site Web</th>
        {% if artiste.site_web != None %}
        <td><a href="{{ artiste.site_web }}">{{ artiste.site_web }}</a></td>
        {% else %}
            <td><p>Pas de site web</p></td> 
        {% endif %}
      </tr>
      <tr class="table-light">
        <th scope="row">Youtube</th>
        <td><a href="{{ artiste.youtube }}">{{ artiste.youtube }}</a></td>
      </tr>
      <tr class="table-light">
        <th scope="row">Instagram</th>
        <td><a href="{{ artiste.instagram }}">{{ artiste.instagram }}</a></td>
      </tr>
      <tr class="table-light">
        <th scope="row">Facebook</th>
        <td><a href="{{ artiste.facebook }}">{{ artiste.facebook }}</a></td>
      </tr>
      <tr class="table-light">
        <th scope="row">Image de fond</th>
        <td><img src="/{{ artiste.image }}" style=" max-width: 30vw; /* Adjust the max-width as needed */
            max-height: 30vh;"></td>
      </tr>
      <tr class="table-light">
        <th scope="row">Recommendations</th>
        <td>
        {% for reco in artistes %}
        <a href="{% url 'API_festivals:artiste_update' reco.id %}">{{ reco.nom }}</a>
        {% endfor %}
      </td>
      </tr>
    </tbody>
</table>

<a href="{% url 'API_festivals:artiste_update' artiste.id %}">
  <button class="btn btn-warning">Modifier</button>
</a>

<a href="{% url 'API_festivals:artiste_delete' artiste.id %}">
  <button class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#myModal">Supprimer</button>
</a>

{% if error_message %}
<div class="modal" id="myModal">
  <div class="modal-dialog">
      <div class="modal-content">

          <!-- Modal Header -->
          <div class="modal-header">
              <h4 class="modal-title">Attention</h4>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>

          <!-- Modal Body -->
          <div class="modal-body">
              <p>{{error_message}}</p>
          </div>

          <!-- Modal Footer -->
          <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
                <a href="{% url 'API_festivals:artiste_delete' artiste.id %}?confirmation=True">
                Oui, tout supprimer
                </a>
              </button>
              <button type="button" class="btn btn-warning" data-bs-dismiss="modal">Non, je modifierai manuellement</button>
          </div>
      </div>
  </div>
</div>
{% endif %}
{% endblock %}